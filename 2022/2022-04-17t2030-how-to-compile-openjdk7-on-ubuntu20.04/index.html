<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="sinowrt">
  
  
  
  <link rel="prev" href="http://blog.sinowrt.cn/2022/2022-04-17t2024-how-to-install-vmware-tools-on-ubuntu20.04/" />
  <link rel="next" href="http://blog.sinowrt.cn/2022/2022-04-25t1936-raspberry-pi-how-to-enable-bluetooth-on-ubuntu-server-20.04/" />
  <link rel="canonical" href="http://blog.sinowrt.cn/2022/2022-04-17t2030-how-to-compile-openjdk7-on-ubuntu20.04/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           åœ¨ubuntu20.04ä¸­ç¼–è¯‘OpenJDK7 | Sinowrt
       
  </title>
  <meta name="title" content="åœ¨ubuntu20.04ä¸­ç¼–è¯‘OpenJDK7 | Sinowrt">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "http:\/\/blog.sinowrt.cn"
    },
    "articleSection" : "posts",
    "name" : "åœ¨ubuntu20.04ä¸­ç¼–è¯‘OpenJDK7",
    "headline" : "åœ¨ubuntu20.04ä¸­ç¼–è¯‘OpenJDK7",
    "description" : "0x00 ç¼–è¯‘ç¯å¢ƒ ç³»ç»Ÿï¼šubuntu20.04\nç›®æ ‡JDKï¼šopenjdk7\nBootstrap JDKï¼šJava SE Development Kit 7u4\nAntï¼šapache-ant-1.9.16\nFreetypeï¼šfreetype-2.3.0\ngcc\/g\x2b\x2bç‰ˆæœ¬ï¼šgcc-4.9\/g\x2b\x2b-4.9\n0x01 ç¯å¢ƒé…ç½® å®‰è£…ä¾èµ–åŒ…\nsudo apt-get install build-essential gawk m4 libasound2-dev libcups2-dev libxrender-dev xorg-dev xutils-dev binutils libmotif-dev  å®‰è£…Freetype\nå°†ä¸‹è½½çš„è½¯ä»¶åŒ…è§£å‹å‡ºæ¥ï¼Œè¿›å…¥æ ¹ç›®å½•\n.\/configure sudo make sudo make install  é…ç½®ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥å°†ä»¥ä¸‹ä»£ç ä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä½¿ç”¨sourceå‘½ä»¤ï¼Œsourceè¯¥æ–‡ä»¶ç¯å¢ƒå˜é‡å³è®¾ç½®æˆåŠŸï¼š\n#è¯­è¨€é€‰é¡¹ï¼Œè¿™ä¸ªå¿…é¡»è®¾ç½®ï¼Œå¦åˆ™ç¼–è¯‘å¥½åä¼šå‡ºç°ä¸€ä¸ªHashTableçš„NPEé”™ export LANG=C #Bootstrap JDKçš„å®‰è£…è·¯å¾„ã€‚å¿…é¡»è®¾ç½® export ALT_BOOTDIR=\/home\/sinowrt\/Documents\/jre1.7.0_04 #å…è®¸è‡ªåŠ¨ä¸‹è½½ä¾èµ– export ALLOW_DOWNLOADS=true #å¹¶è¡Œç¼–è¯‘çš„çº¿ç¨‹æ•°ï¼Œè®¾ç½®ä¸ºå’ŒCPUå†…æ ¸æ•°é‡ä¸€è‡´å³å¯ export HOTSPOT_BUILD_JOBS=4 export ALT_PARALLEL_COMPILE_JOBS=4 #æ¯”è¾ƒæœ¬æ¬¡buildå‡ºæ¥çš„æ˜ åƒä¸å…ˆå‰ç‰ˆæœ¬çš„å·®å¼‚ã€‚è¿™å¯¹æˆ‘ä»¬æ¥è¯´æ²¡æœ‰æ„ä¹‰ï¼Œ #å¿…é¡»è®¾ç½®ä¸ºfalseï¼Œå¦åˆ™sanityæ£€æŸ¥ä¼šæŠ¥ç¼ºå°‘å…ˆå‰ç‰ˆæœ¬JDKçš„æ˜ åƒçš„é”™è¯¯æç¤ºã€‚ #å¦‚æœå·²ç»è®¾ç½®devæˆ–è€…DEV_ONLY=trueï¼Œè¿™ä¸ªä¸æ˜¾å¼è®¾ç½®ä¹Ÿè¡Œ export SKIP_COMPARE_IMAGES=true #ä½¿ç”¨é¢„ç¼–è¯‘å¤´æ–‡ä»¶ï¼Œä¸åŠ è¿™ä¸ªç¼–è¯‘ä¼šæ›´æ…¢ä¸€äº› export USE_PRECOMPILED_HEADER=true #è¦ç¼–è¯‘çš„å†…å®¹ export BUILD_LANGTOOLS=true #export BUILD_JAXP=false #export BUILD_JAXWS=false #export BUILD_CORBA=false export BUILD_HOTSPOT=true export BUILD_JDK=true #è¦ç¼–è¯‘çš„ç‰ˆæœ¬ #export SKIP_DEBUG_BUILD=false #export SKIP_FASTDEBUG_BUILD=true #export DEBUG_NAME=debug #æŠŠå®ƒè®¾ç½®ä¸ºfalseå¯ä»¥é¿å¼€javawså’Œæµè§ˆå™¨Javaæ’ä»¶ä¹‹ç±»çš„éƒ¨åˆ†çš„build BUILD_DEPLOY=false #æŠŠå®ƒè®¾ç½®ä¸ºfalseå°±ä¸ä¼šbuildå‡ºå®‰è£…åŒ…ã€‚å› ä¸ºå®‰è£…åŒ…é‡Œæœ‰äº›å¥‡æ€ªçš„ä¾èµ–ï¼Œ #ä½†å³ä¾¿ä¸buildå‡ºå®ƒä¹Ÿå·²ç»èƒ½å¾—åˆ°å®Œæ•´çš„JDKæ˜ åƒï¼Œæ‰€ä»¥è¿˜æ˜¯åˆ«buildå®ƒå¥½äº† BUILD_INSTALL=false #è¿™ä¸¤ä¸ªç¯å¢ƒå˜é‡å¿…é¡»å»æ‰ï¼Œä¸ç„¶ä¼šæœ‰å¾ˆè¯¡å¼‚çš„äº‹æƒ…å‘ç”Ÿï¼ˆæˆ‘æ²¡æœ‰å…·ä½“æŸ¥è¿‡è¿™äº›\x26quot;è¯¡å¼‚çš„ #äº‹æƒ…\x26quot;ï¼ŒMakefileè„šæœ¬æ£€æŸ¥åˆ°æœ‰è¿™2ä¸ªå˜é‡å°±ä¼šæç¤ºè­¦å‘Šï¼‰ unset JAVA_HOME unset CLASSPATH # ==============ã€ä»¥ä¸‹æ˜¯æˆ‘çš„ä¸ªæ€§åŒ–ç¯å¢ƒé…ç½®ï¼Œå¯ä»¥æŒ‰éœ€è®¾ç½®ã€‘==================== #è®¾ç½®freetypeè·¯å¾„ export ALT_FREETYPE_HEADERS_PATH=\/usr\/local\/include export ALT_FREETYPE_LIB_PATH=\/usr\/local\/lib #è®¾ç½®Antè·¯å¾„ export PATH=\/home\/sinowrt\/Documents\/apache-ant-1.",
    "inLanguage" : "en-us",
    "author" : "sinowrt",
    "creator" : "sinowrt",
    "publisher": "sinowrt",
    "accountablePerson" : "sinowrt",
    "copyrightHolder" : "sinowrt",
    "copyrightYear" : "2022",
    "datePublished": "2022-04-17 20:30:00 \x2b0800 CST",
    "dateModified" : "2022-04-17 20:30:00 \x2b0800 CST",
    "url" : "http:\/\/blog.sinowrt.cn\/2022\/2022-04-17t2030-how-to-compile-openjdk7-on-ubuntu20.04\/",
    "wordCount" : "1810",
    "keywords" : [ "ubuntu","openjdk","compile", "Sinowrt"]
}
</script>

</head>



<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y7CHCJ00RL"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y7CHCJ00RL');
</script>


  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="http://blog.sinowrt.cn">Sinowrt</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="http://blog.sinowrt.cn">Sinowrt</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">åœ¨ubuntu20.04ä¸­ç¼–è¯‘OpenJDK7</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="http://blog.sinowrt.cn" rel="author">sinowrt</a> with â™¥ 
                <span class="post-time">
                on <time datetime=2022-04-17 itemprop="datePublished">April 17, 2022</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="http://blog.sinowrt.cn/categories/ubuntu/"> ubuntu </a>
                        <a href="http://blog.sinowrt.cn/categories/openjdk/"> openjdk </a>
                        
                </span>
        </div>
    </header>
    <div class="post-content">
        

        

        
        
     
          
          
          

          
          
          

          

<h2 id="0x00-ç¼–è¯‘ç¯å¢ƒ">0x00 ç¼–è¯‘ç¯å¢ƒ</h2>

<p>ç³»ç»Ÿï¼šubuntu20.04<br />
ç›®æ ‡JDKï¼šopenjdk7<br />
Bootstrap JDKï¼šJava SE Development Kit 7u4<br />
Antï¼šapache-ant-1.9.16<br />
Freetypeï¼šfreetype-2.3.0<br />
gcc/g++ç‰ˆæœ¬ï¼šgcc-4.9/g++-4.9</p>

<h2 id="0x01-ç¯å¢ƒé…ç½®">0x01 ç¯å¢ƒé…ç½®</h2>

<p>å®‰è£…ä¾èµ–åŒ…</p>

<pre><code class="language-shell">sudo apt-get install build-essential gawk m4 libasound2-dev libcups2-dev libxrender-dev xorg-dev xutils-dev binutils libmotif-dev
</code></pre>

<p>å®‰è£…Freetype<br />
å°†ä¸‹è½½çš„è½¯ä»¶åŒ…è§£å‹å‡ºæ¥ï¼Œè¿›å…¥æ ¹ç›®å½•</p>

<pre><code class="language-shell">./configure
sudo make
sudo make install
</code></pre>

<p>é…ç½®ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥å°†ä»¥ä¸‹ä»£ç ä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä½¿ç”¨sourceå‘½ä»¤ï¼Œsourceè¯¥æ–‡ä»¶ç¯å¢ƒå˜é‡å³è®¾ç½®æˆåŠŸï¼š</p>

<pre><code class="language-shell">#è¯­è¨€é€‰é¡¹ï¼Œè¿™ä¸ªå¿…é¡»è®¾ç½®ï¼Œå¦åˆ™ç¼–è¯‘å¥½åä¼šå‡ºç°ä¸€ä¸ªHashTableçš„NPEé”™
export LANG=C
#Bootstrap JDKçš„å®‰è£…è·¯å¾„ã€‚å¿…é¡»è®¾ç½®
export ALT_BOOTDIR=/home/sinowrt/Documents/jre1.7.0_04
#å…è®¸è‡ªåŠ¨ä¸‹è½½ä¾èµ–
export ALLOW_DOWNLOADS=true
#å¹¶è¡Œç¼–è¯‘çš„çº¿ç¨‹æ•°ï¼Œè®¾ç½®ä¸ºå’ŒCPUå†…æ ¸æ•°é‡ä¸€è‡´å³å¯
export HOTSPOT_BUILD_JOBS=4
export ALT_PARALLEL_COMPILE_JOBS=4
#æ¯”è¾ƒæœ¬æ¬¡buildå‡ºæ¥çš„æ˜ åƒä¸å…ˆå‰ç‰ˆæœ¬çš„å·®å¼‚ã€‚è¿™å¯¹æˆ‘ä»¬æ¥è¯´æ²¡æœ‰æ„ä¹‰ï¼Œ
#å¿…é¡»è®¾ç½®ä¸ºfalseï¼Œå¦åˆ™sanityæ£€æŸ¥ä¼šæŠ¥ç¼ºå°‘å…ˆå‰ç‰ˆæœ¬JDKçš„æ˜ åƒçš„é”™è¯¯æç¤ºã€‚
#å¦‚æœå·²ç»è®¾ç½®devæˆ–è€…DEV_ONLY=trueï¼Œè¿™ä¸ªä¸æ˜¾å¼è®¾ç½®ä¹Ÿè¡Œ
export SKIP_COMPARE_IMAGES=true
#ä½¿ç”¨é¢„ç¼–è¯‘å¤´æ–‡ä»¶ï¼Œä¸åŠ è¿™ä¸ªç¼–è¯‘ä¼šæ›´æ…¢ä¸€äº›
export USE_PRECOMPILED_HEADER=true
#è¦ç¼–è¯‘çš„å†…å®¹
export BUILD_LANGTOOLS=true
#export BUILD_JAXP=false
#export BUILD_JAXWS=false
#export BUILD_CORBA=false
export BUILD_HOTSPOT=true
export BUILD_JDK=true
#è¦ç¼–è¯‘çš„ç‰ˆæœ¬
#export SKIP_DEBUG_BUILD=false
#export SKIP_FASTDEBUG_BUILD=true
#export DEBUG_NAME=debug
#æŠŠå®ƒè®¾ç½®ä¸ºfalseå¯ä»¥é¿å¼€javawså’Œæµè§ˆå™¨Javaæ’ä»¶ä¹‹ç±»çš„éƒ¨åˆ†çš„build
BUILD_DEPLOY=false
#æŠŠå®ƒè®¾ç½®ä¸ºfalseå°±ä¸ä¼šbuildå‡ºå®‰è£…åŒ…ã€‚å› ä¸ºå®‰è£…åŒ…é‡Œæœ‰äº›å¥‡æ€ªçš„ä¾èµ–ï¼Œ
#ä½†å³ä¾¿ä¸buildå‡ºå®ƒä¹Ÿå·²ç»èƒ½å¾—åˆ°å®Œæ•´çš„JDKæ˜ åƒï¼Œæ‰€ä»¥è¿˜æ˜¯åˆ«buildå®ƒå¥½äº†
BUILD_INSTALL=false
#è¿™ä¸¤ä¸ªç¯å¢ƒå˜é‡å¿…é¡»å»æ‰ï¼Œä¸ç„¶ä¼šæœ‰å¾ˆè¯¡å¼‚çš„äº‹æƒ…å‘ç”Ÿï¼ˆæˆ‘æ²¡æœ‰å…·ä½“æŸ¥è¿‡è¿™äº›&quot;è¯¡å¼‚çš„
#äº‹æƒ…&quot;ï¼ŒMakefileè„šæœ¬æ£€æŸ¥åˆ°æœ‰è¿™2ä¸ªå˜é‡å°±ä¼šæç¤ºè­¦å‘Šï¼‰
unset JAVA_HOME
unset CLASSPATH

# ==============ã€ä»¥ä¸‹æ˜¯æˆ‘çš„ä¸ªæ€§åŒ–ç¯å¢ƒé…ç½®ï¼Œå¯ä»¥æŒ‰éœ€è®¾ç½®ã€‘====================
#è®¾ç½®freetypeè·¯å¾„
export ALT_FREETYPE_HEADERS_PATH=/usr/local/include
export ALT_FREETYPE_LIB_PATH=/usr/local/lib
#è®¾ç½®Antè·¯å¾„
export PATH=/home/sinowrt/Documents/apache-ant-1.9.16/bin:$PATH
#ç¼–è¯‘ç»“æœæ‰€å­˜æ”¾çš„è·¯å¾„
export ALT_OUTPUTDIR=/home/sinowrt/Documents/jdk7u-dev/build
export ANT_HOME=/home/sinowrt/Documents/apache-ant-1.9.16
#å–æ¶ˆHotspotç³»ç»Ÿæ”¯æŒæ£€æŸ¥
export DISABLE_HOTSPOT_OS_VERSION_CHECK=false
</code></pre>

<h2 id="0x02-ç¼–è¯‘jdk">0x02 ç¼–è¯‘JDK</h2>

<p>å¯ä»¥ä½¿ç”¨make sanityå‘½ä»¤æ£€æŸ¥å‰é¢æ‰€åšçš„è®¾ç½®æ˜¯å¦æ­£ç¡®ï¼Œå¦‚æœæ˜¾ç¤ºâ€œSanity check passedâ€å³è¯´æ˜æ£€æŸ¥è¿‡ç¨‹é€šè¿‡äº†<br />
ç„¶åä½¿ç”¨makeå‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼Œä½†æ˜¯é”™äº†ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹æŠ¥é”™ä¿¡æ¯ï¼š</p>

<pre><code class="language-shell">g++ -DLINUX -D_GNU_SOURCE -DAMD64 -DPRODUCT -I. -I/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/prims -I/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm -I/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/precompiled -I/home/sinowrt/Documents/jdk7u-dev/hotspot/src/cpu/x86/vm -I/home/sinowrt/Documents/jdk7u-dev/hotspot/src/os_cpu/linux_x86/vm -I/home/sinowrt/Documents/jdk7u-dev/hotspot/src/os/linux/vm -I/home/sinowrt/Documents/jdk7u-dev/hotspot/src/os/posix/vm -I../generated -DHOTSPOT_RELEASE_VERSION=&quot;\&quot;24.80-b07\&quot;&quot; -DHOTSPOT_BUILD_TARGET=&quot;\&quot;product\&quot;&quot; -DHOTSPOT_BUILD_USER=&quot;\&quot;sinowrt\&quot;&quot; -DHOTSPOT_LIB_ARCH=\&quot;amd64\&quot; -DHOTSPOT_VM_DISTRO=&quot;\&quot;OpenJDK\&quot;&quot; -DTARGET_OS_FAMILY_linux -DTARGET_ARCH_x86 -DTARGET_ARCH_MODEL_x86_64 -DTARGET_OS_ARCH_linux_x86 -DTARGET_OS_ARCH_MODEL_linux_x86_64 -DTARGET_COMPILER_gcc -DCOMPILER2 -DCOMPILER1 -fPIC -fno-rtti -fno-exceptions -D_REENTRANT -fcheck-new -fvisibility=hidden -m64 -pipe -O3 -fno-strict-aliasing -g -DVM_LITTLE_ENDIAN -D_LP64=1 -fno-omit-frame-pointer -DINCLUDE_TRACE=1 -Werror -Wpointer-arith -Wsign-compare    -c -fpch-deps -MMD -MP -MF ../generated/dependencies/precompiled.hpp.gch.d -x c++-header /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/precompiled/precompiled.hpp -o precompiled.hpp.gch 
In file included from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/sharedHeap.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/gc_implementation/parallelScavenge/psParallelCompact.hpp:34,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/gc_implementation/shared/markSweep.inline.hpp:32,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/oops/oop.inline.hpp:29,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/classfile/classFileParser.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/classfile/classLoader.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/classfile/systemDictionary.hpp:29,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/ci/ciEnv.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/ci/ciUtilities.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/ci/ciNullObject.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/ci/ciConstant.hpp:29,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/precompiled/precompiled.hpp:36:
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/generation.hpp:422:17: error: invalid suffix on literal; C++11 requires a space between literal and string macro [-Werror=literal-suffix]
  422 |         warning(&quot;time warp: &quot;INT64_FORMAT&quot; to &quot;INT64_FORMAT, _time_of_last_gc, now);
      |                 ^
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/generation.hpp:422:42: error: invalid suffix on literal; C++11 requires a space between literal and string macro [-Werror=literal-suffix]
  422 |         warning(&quot;time warp: &quot;INT64_FORMAT&quot; to &quot;INT64_FORMAT, _time_of_last_gc, now);
      |                                          ^
In file included from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/gc_interface/collectedHeap.inline.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/oops/oop.inline.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/classfile/classFileParser.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/classfile/classLoader.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/classfile/systemDictionary.hpp:29,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/ci/ciEnv.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/ci/ciUtilities.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/ci/ciNullObject.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/ci/ciConstant.hpp:29,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/precompiled/precompiled.hpp:36:
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/threadLocalAllocBuffer.inline.hpp:97:25: error: invalid suffix on literal; C++11 requires a space between literal and string macro [-Werror=literal-suffix]
   97 |     gclog_or_tty-&gt;print(&quot;TLAB: %s thread: &quot;INTPTR_FORMAT&quot; [id: %2d]&quot;
      |                         ^
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/threadLocalAllocBuffer.inline.hpp:98:25: error: invalid suffix on literal; C++11 requires a space between literal and string macro [-Werror=literal-suffix]
   98 |                         &quot; obj: &quot;SIZE_FORMAT
      |                         ^
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/threadLocalAllocBuffer.inline.hpp:99:25: error: invalid suffix on literal; C++11 requires a space between literal and string macro [-Werror=literal-suffix]
   99 |                         &quot; free: &quot;SIZE_FORMAT
      |                         ^
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/threadLocalAllocBuffer.inline.hppğŸ’¯25: error: invalid suffix on literal; C++11 requires a space between literal and string macro [-Werror=literal-suffix]
  100 |                         &quot; waste: &quot;SIZE_FORMAT&quot;\n&quot;,
      |                         ^
In file included from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/space.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/space.inline.hpp:29,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/gc_implementation/shared/cSpaceCounters.hpp:29,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/defNewGeneration.hpp:29,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/services/memoryPool.hpp:29,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/services/lowMemoryDetector.hpp:29,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/gc_interface/collectedHeap.inline.hpp:36,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/oops/oop.inline.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/classfile/classFileParser.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/classfile/classLoader.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/classfile/systemDictionary.hpp:29,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/ci/ciEnv.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/ci/ciUtilities.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/ci/ciNullObject.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/ci/ciConstant.hpp:29,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/precompiled/precompiled.hpp:36:
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/cardTableModRefBS.hpp:156:20: error: invalid suffix on literal; C++11 requires a space between literal and string macro [-Werror=literal-suffix]
  156 |            err_msg(&quot;Attempt to access p = &quot;PTR_FORMAT&quot; out of bounds of &quot;
      |                    ^
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/cardTableModRefBS.hpp:157:20: error: invalid suffix on literal; C++11 requires a space between literal and string macro [-Werror=literal-suffix]
  157 |                    &quot; card marking array's _whole_heap = [&quot;PTR_FORMAT&quot;,&quot;PTR_FORMAT&quot;)&quot;,
      |                    ^
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/cardTableModRefBS.hpp:157:69: error: invalid suffix on literal; C++11 requires a space between literal and string macro [-Werror=literal-suffix]
  157 |                    &quot; card marking array's _whole_heap = [&quot;PTR_FORMAT&quot;,&quot;PTR_FORMAT&quot;)&quot;,
      |                                                                     ^
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/cardTableModRefBS.hpp:432:20: error: invalid suffix on literal; C++11 requires a space between literal and string macro [-Werror=literal-suffix]
  432 |            err_msg(&quot;Returning result = &quot;PTR_FORMAT&quot; out of bounds of &quot;
      |                    ^
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/cardTableModRefBS.hpp:433:20: error: invalid suffix on literal; C++11 requires a space between literal and string macro [-Werror=literal-suffix]
  433 |                    &quot; card marking array's _whole_heap = [&quot;PTR_FORMAT&quot;,&quot;PTR_FORMAT&quot;)&quot;,
      |                    ^
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/cardTableModRefBS.hpp:433:69: error: invalid suffix on literal; C++11 requires a space between literal and string macro [-Werror=literal-suffix]
  433 |                    &quot; card marking array's _whole_heap = [&quot;PTR_FORMAT&quot;,&quot;PTR_FORMAT&quot;)&quot;,
      |                                                                     ^
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/cardTableModRefBS.hpp:441:20: error: invalid suffix on literal; C++11 requires a space between literal and string macro [-Werror=literal-suffix]
  441 |            err_msg(&quot;Attempt to access p = &quot;PTR_FORMAT&quot; out of bounds of &quot;
      |                    ^
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/cardTableModRefBS.hpp:442:20: error: invalid suffix on literal; C++11 requires a space between literal and string macro [-Werror=literal-suffix]
  442 |                    &quot; card marking array's _whole_heap = [&quot;PTR_FORMAT&quot;,&quot;PTR_FORMAT&quot;)&quot;,
      |                    ^
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/cardTableModRefBS.hpp:442:69: error: invalid suffix on literal; C++11 requires a space between literal and string macro [-Werror=literal-suffix]
  442 |                    &quot; card marking array's _whole_heap = [&quot;PTR_FORMAT&quot;,&quot;PTR_FORMAT&quot;)&quot;,
      |                                                                     ^
In file included from ../generated/tracefiles/traceEventClasses.hpp:18,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/trace/tracing.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/opto/compile.hpp:44,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/opto/node.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/opto/addnode.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/precompiled/precompiled.hpp:259:
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/trace/traceStream.hpp:44:15: error: invalid suffix on literal; C++11 requires a space between literal and string macro [-Werror=literal-suffix]
   44 |     _st.print(&quot;%s = &quot;UINT32_FORMAT, label, val);
      |               ^
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/trace/traceStream.hpp:48:15: error: invalid suffix on literal; C++11 requires a space between literal and string macro [-Werror=literal-suffix]
   48 |     _st.print(&quot;%s = &quot;UINT32_FORMAT, label, val);
      |               ^
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/trace/traceStream.hpp:52:15: error: invalid suffix on literal; C++11 requires a space between literal and string macro [-Werror=literal-suffix]
   52 |     _st.print(&quot;%s = &quot;INT32_FORMAT, label, val);
      |               ^
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/trace/traceStream.hpp:56:15: error: invalid suffix on literal; C++11 requires a space between literal and string macro [-Werror=literal-suffix]
   56 |     _st.print(&quot;%s = &quot;UINT32_FORMAT, label, val);
      |               ^
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/trace/traceStream.hpp:60:15: error: invalid suffix on literal; C++11 requires a space between literal and string macro [-Werror=literal-suffix]
   60 |     _st.print(&quot;%s = &quot;INT32_FORMAT, label, val);
      |               ^
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/trace/traceStream.hpp:64:15: error: invalid suffix on literal; C++11 requires a space between literal and string macro [-Werror=literal-suffix]
   64 |     _st.print(&quot;%s = &quot;UINT64_FORMAT, label, val);
      |               ^
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/trace/traceStream.hpp:68:15: error: invalid suffix on literal; C++11 requires a space between literal and string macro [-Werror=literal-suffix]
   68 |     _st.print(&quot;%s = &quot;INT64_FORMAT, label, val);
      |               ^
In file included from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/asm/assembler.hpp:29,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/precompiled/precompiled.hpp:29:
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/code/relocInfo.hpp:374:27: error: friend declaration of 'relocInfo prefix_relocInfo(int)' specifies default arguments and isn't a definition [-fpermissive]
  374 |   inline friend relocInfo prefix_relocInfo(int datalen = 0);
      |                           ^~~~~~~~~~~~~~~~
In file included from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/asm/assembler.hpp:29,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/precompiled/precompiled.hpp:29:
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/code/relocInfo.hpp:469:18: error: friend declaration of 'relocInfo prefix_relocInfo(int)' specifies default arguments and isn't the only declaration [-fpermissive]
  469 | inline relocInfo prefix_relocInfo(int datalen) {
      |                  ^~~~~~~~~~~~~~~~
In file included from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/asm/assembler.hpp:29,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/precompiled/precompiled.hpp:29:
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/code/relocInfo.hpp:374:27: note: previous declaration of 'relocInfo prefix_relocInfo(int)'
  374 |   inline friend relocInfo prefix_relocInfo(int datalen = 0);
      |                           ^~~~~~~~~~~~~~~~
In file included from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/compiler/disassembler.hpp:31,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/asm/assembler.inline.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/precompiled/precompiled.hpp:30:
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/os/linux/vm/os_linux.inline.hpp: In static member function 'static dirent* os::readdir(DIR*, dirent*)':
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/os/linux/vm/os_linux.inline.hpp:154:18: error: 'int readdir_r(DIR*, dirent*, dirent**)' is deprecated [-Werror=deprecated-declarations]
  154 |   if((status = ::readdir_r(dirp, dbuf, &amp;p)) != 0) {
      |                  ^~~~~~~~~
In file included from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/os/linux/vm/jvm_linux.h:44,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/prims/jvm.h:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/utilities/debug.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/runtime/globals.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/allocation.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/iterator.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/genOopClosures.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/oops/klass.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/runtime/handles.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/code/oopRecorder.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/asm/assembler.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/precompiled/precompiled.hpp:29:
/usr/include/dirent.h:183:12: note: declared here
  183 | extern int readdir_r (DIR *__restrict __dirp,
      |            ^~~~~~~~~
In file included from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/compiler/disassembler.hpp:31,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/asm/assembler.inline.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/precompiled/precompiled.hpp:30:
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/os/linux/vm/os_linux.inline.hpp:154:42: error: 'int readdir_r(DIR*, dirent*, dirent**)' is deprecated [-Werror=deprecated-declarations]
  154 |   if((status = ::readdir_r(dirp, dbuf, &amp;p)) != 0) {
      |                                          ^
In file included from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/os/linux/vm/jvm_linux.h:44,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/prims/jvm.h:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/utilities/debug.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/runtime/globals.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/allocation.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/iterator.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/genOopClosures.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/oops/klass.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/runtime/handles.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/code/oopRecorder.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/asm/assembler.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/precompiled/precompiled.hpp:29:
/usr/include/dirent.h:183:12: note: declared here
  183 | extern int readdir_r (DIR *__restrict __dirp,
      |            ^~~~~~~~~
In file included from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/compiler/disassembler.hpp:31,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/asm/assembler.inline.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/precompiled/precompiled.hpp:30:
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/os/linux/vm/os_linux.inline.hpp:154:42: error: 'int readdir_r(DIR*, dirent*, dirent**)' is deprecated [-Werror=deprecated-declarations]
  154 |   if((status = ::readdir_r(dirp, dbuf, &amp;p)) != 0) {
      |                                          ^
In file included from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/os/linux/vm/jvm_linux.h:44,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/prims/jvm.h:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/utilities/debug.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/runtime/globals.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/allocation.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/iterator.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/genOopClosures.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/oops/klass.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/runtime/handles.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/code/oopRecorder.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/asm/assembler.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/precompiled/precompiled.hpp:29:
/usr/include/dirent.h:183:12: note: declared here
  183 | extern int readdir_r (DIR *__restrict __dirp,
      |            ^~~~~~~~~
In file included from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/oops/constantPoolOop.hpp:29,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/oops/methodOop.hpp:33,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/runtime/frame.hpp:29,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/prims/jvmtiExport.hpp:33,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/runtime/thread.hpp:32,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/os/linux/vm/thread_linux.inline.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/memory/resourceArea.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/classfile/classFileParser.hpp:29,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/classfile/classLoader.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/classfile/systemDictionary.hpp:29,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/ci/ciEnv.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/ci/ciUtilities.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/ci/ciNullObject.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/ci/ciConstant.hpp:29,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/precompiled/precompiled.hpp:36:
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/oops/cpCacheOop.hpp: At global scope:
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/oops/cpCacheOop.hpp:189:42: error: left operand of shift expression '(-1 &lt;&lt; 28)' is negative [-fpermissive]
  189 |     option_bits_mask           = ~(((-1) &lt;&lt; tos_state_shift) | (field_index_mask | parameter_size_mask))
      |                                    ~~~~~~^~~~~~~~~~~~~~~~~~~
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/oops/cpCacheOop.hpp:189:104: error: enumerator value for 'option_bits_mask' is not an integer constant
  189 |     option_bits_mask           = ~(((-1) &lt;&lt; tos_state_shift) | (field_index_mask | parameter_size_mask))
      |                                                                                                        ^
In file included from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/ci/ciEnv.hpp:32,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/ci/ciUtilities.hpp:28,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/ci/ciNullObject.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/ci/ciConstant.hpp:29,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/precompiled/precompiled.hpp:36:
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/code/dependencies.hpp:169:59: error: left operand of shift expression '(-1 &lt;&lt; 1)' is negative [-fpermissive]
  169 |     all_types           = ((1 &lt;&lt; TYPE_LIMIT) - 1) &amp; ((-1) &lt;&lt; FIRST_TYPE),
      |                                                     ~~~~~~^~~~~~~~~~~~~~
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/code/dependencies.hpp:169:72: error: enumerator value for 'all_types' is not an integer constant
  169 |     all_types           = ((1 &lt;&lt; TYPE_LIMIT) - 1) &amp; ((-1) &lt;&lt; FIRST_TYPE),
      |                                                                        ^
cc1plus: all warnings being treated as errors
make[6]: *** [/home/sinowrt/Documents/jdk7u-dev/hotspot/make/linux/makefiles/vm.make:296: precompiled.hpp.gch] Error 1
make[6]: Leaving directory '/home/sinowrt/Documents/jdk7u-dev/build/hotspot/outputdir/linux_amd64_compiler2/product'
make[5]: *** [/home/sinowrt/Documents/jdk7u-dev/hotspot/make/linux/makefiles/top.make:119: the_vm] Error 2
make[5]: Leaving directory '/home/sinowrt/Documents/jdk7u-dev/build/hotspot/outputdir/linux_amd64_compiler2/product'
make[4]: *** [/home/sinowrt/Documents/jdk7u-dev/hotspot/make/linux/Makefile:290: product] Error 2
make[4]: Leaving directory '/home/sinowrt/Documents/jdk7u-dev/build/hotspot/outputdir'
make[3]: *** [Makefile:192: generic_build2] Error 2
make[3]: Leaving directory '/home/sinowrt/Documents/jdk7u-dev/hotspot/make'
make[2]: *** [Makefile:151: product] Error 2
make[2]: Leaving directory '/home/sinowrt/Documents/jdk7u-dev/hotspot/make'
make[1]: *** [make/hotspot-rules.gmk:114: hotspot-build] Error 2
make[1]: Leaving directory '/home/sinowrt/Documents/jdk7u-dev'
make: *** [Makefile:251: build_product_image] Error 2
</code></pre>

<p>è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºå®‰è£…ä¾èµ–åŒ…æ—¶ï¼Œé»˜è®¤å®‰è£…äº†é«˜ç‰ˆæœ¬çš„gccå’Œg++ï¼Œå¯ä½¿ç”¨<code>gcc -v</code>æˆ–<code>g++ -v</code>å‘½ä»¤æŸ¥çœ‹ç‰ˆæœ¬ï¼Œéœ€è¦å®‰è£…ä½ç‰ˆæœ¬çš„gcc/g++</p>

<pre><code class="language-shell">sinowrt@ubuntu:~/Documents/jdk7u-dev$ gcc -v
#çœç•¥è‹¥å¹²è¡Œ...
gcc version 9.4.0 (Ubuntu 9.4.0-1ubuntu1~20.04.1)

sinowrt@ubuntu:~/Documents/jdk7u-dev$ g++ -v      
#çœç•¥è‹¥å¹²è¡Œ...
gcc version 9.4.0 (Ubuntu 9.4.0-1ubuntu1~20.04.1)
</code></pre>

<p>æˆ‘é€‰æ‹©å®‰è£…4.9ç‰ˆæœ¬çš„gccä¸g++<br />
è€Œubuntu20.04ä¸­<code>sudo apt-get install gcc-4.9</code>ä¼šæç¤ºæ‰¾ä¸åˆ°å®‰è£…åŒ…ï¼Œéœ€è¦æ·»åŠ ä½ç‰ˆæœ¬çš„æºï¼Œè¿™é‡Œæˆ‘æ·»åŠ çš„æ˜¯ubuntu16çš„aliyunæº</p>

<pre><code class="language-shell">sudo vi /etc/apt/source.list

#åœ¨æ–‡ä»¶æœ€åé¢æ·»åŠ æºä¿¡æ¯,`:wq`ä¿å­˜é€€å‡º
#æº===========================ã€Startã€‘=============================
deb http://mirrors.aliyun.com/ubuntu/ xenial main
deb-src http://mirrors.aliyun.com/ubuntu/ xenial main

deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main

deb http://mirrors.aliyun.com/ubuntu/ xenial universe
deb-src http://mirrors.aliyun.com/ubuntu/ xenial universe
deb http://mirrors.aliyun.com/ubuntu/ xenial-updates universe
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates universe

deb http://mirrors.aliyun.com/ubuntu/ xenial-security main
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main
deb http://mirrors.aliyun.com/ubuntu/ xenial-security universe
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security universe
#æº===========================ã€E n dã€‘=============================

#æ›´æ–°æº
sudo apt-get update
#å®‰è£…gcc-4.9 g++-4.9
sudo apt-get install gcc-4.9 g++-4.9

sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.9 40
sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-9 50
sudo update-alternatives --config gcc

#sinowrt@ubuntu:~/Documents/jdk7u-dev$ sudo update-alternatives --config gcc
#There are 2 choices for the alternative gcc (providing /usr/bin/gcc)
#
#  Selection    Path              Priority   Status
#------------------------------------------------------------
#* 0            /usr/bin/gcc-9     50        auto mode
#  1            /usr/bin/gcc-4.9   40        manual mode
#  2            /usr/bin/gcc-9     50        manual mode
#Press &lt;enter&gt; to keep the current choice[*], or type selection number: 

#æ ¹æ®æç¤ºï¼Œè¾“å…¥æ•°å­—1ï¼Œé€‰æ‹©å½“å‰ä½¿ç”¨çš„gccä¸ºgcc-4.9
#g++çš„é…ç½®ä¹Ÿä¸€æ ·ï¼Œæ­¤å¤„ç•¥
</code></pre>

<p>åˆ‡æ¢åˆ°ä½ç‰ˆæœ¬çš„gccå’Œg++åï¼Œmake cleané‡æ–°makeï¼Œè™½ç„¶è¿˜æ˜¯ä¼šæŠ¥errorï¼Œä½†æ˜¯åªæ˜¯warningè¾“å‡ºä¸ºerrorï¼Œå¦‚ä¸‹é¢è¾“å‡ºæ‰€ç¤º</p>

<pre><code class="language-shell">g++ -DLINUX -D_GNU_SOURCE -DAMD64 -DPRODUCT -I. -I/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/prims -I/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm -I/home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/precompiled -I/home/sinowrt/Documents/jdk7u-dev/hotspot/src/cpu/x86/vm -I/home/sinowrt/Documents/jdk7u-dev/hotspot/src/os_cpu/linux_x86/vm -I/home/sinowrt/Documents/jdk7u-dev/hotspot/src/os/linux/vm -I/home/sinowrt/Documents/jdk7u-dev/hotspot/src/os/posix/vm -I../generated -DHOTSPOT_RELEASE_VERSION=&quot;\&quot;24.80-b07\&quot;&quot; -DHOTSPOT_BUILD_TARGET=&quot;\&quot;product\&quot;&quot; -DHOTSPOT_BUILD_USER=&quot;\&quot;sinowrt\&quot;&quot; -DHOTSPOT_LIB_ARCH=\&quot;amd64\&quot; -DHOTSPOT_VM_DISTRO=&quot;\&quot;OpenJDK\&quot;&quot; -DTARGET_OS_FAMILY_linux -DTARGET_ARCH_x86 -DTARGET_ARCH_MODEL_x86_64 -DTARGET_OS_ARCH_linux_x86 -DTARGET_OS_ARCH_MODEL_linux_x86_64 -DTARGET_COMPILER_gcc -DCOMPILER2 -DCOMPILER1 -fPIC -fno-rtti -fno-exceptions -D_REENTRANT -fcheck-new -fvisibility=hidden -m64 -pipe -O3 -fno-strict-aliasing -g -DVM_LITTLE_ENDIAN -D_LP64=1 -fno-omit-frame-pointer -DINCLUDE_TRACE=1 -Werror -Wpointer-arith -Wsign-compare    -c -fpch-deps -MMD -MP -MF ../generated/dependencies/precompiled.hpp.gch.d -x c++-header /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/precompiled/precompiled.hpp -o precompiled.hpp.gch 
In file included from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/compiler/disassembler.hpp:31:0,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/asm/assembler.inline.hpp:30,
                 from /home/sinowrt/Documents/jdk7u-dev/hotspot/src/share/vm/precompiled/precompiled.hpp:30:
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/os/linux/vm/os_linux.inline.hpp: In static member function 'static dirent* os::readdir(DIR*, dirent*)':
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/os/linux/vm/os_linux.inline.hpp:154:18: error: 'int readdir_r(DIR*, dirent*, dirent**)' is deprecated (declared at /usr/include/dirent.h:183) [-Werror=deprecated-declarations]
   if((status = ::readdir_r(dirp, dbuf, &amp;p)) != 0) {
                  ^
/home/sinowrt/Documents/jdk7u-dev/hotspot/src/os/linux/vm/os_linux.inline.hpp:154:42: error: 'int readdir_r(DIR*, dirent*, dirent**)' is deprecated (declared at /usr/include/dirent.h:183) [-Werror=deprecated-declarations]
   if((status = ::readdir_r(dirp, dbuf, &amp;p)) != 0) {
                                          ^
cc1plus: all warnings being treated as errors
make[6]: *** [/home/sinowrt/Documents/jdk7u-dev/hotspot/make/linux/makefiles/vm.make:296: precompiled.hpp.gch] Error 1
make[6]: Leaving directory '/home/sinowrt/Documents/jdk7u-dev/build/hotspot/outputdir/linux_amd64_compiler2/product'
make[5]: *** [/home/sinowrt/Documents/jdk7u-dev/hotspot/make/linux/makefiles/top.make:119: the_vm] Error 2
make[5]: Leaving directory '/home/sinowrt/Documents/jdk7u-dev/build/hotspot/outputdir/linux_amd64_compiler2/product'
make[4]: *** [/home/sinowrt/Documents/jdk7u-dev/hotspot/make/linux/Makefile:290: product] Error 2
make[4]: Leaving directory '/home/sinowrt/Documents/jdk7u-dev/build/hotspot/outputdir'
make[3]: *** [Makefile:192: generic_build2] Error 2
make[3]: Leaving directory '/home/sinowrt/Documents/jdk7u-dev/hotspot/make'
make[2]: *** [Makefile:151: product] Error 2
make[2]: Leaving directory '/home/sinowrt/Documents/jdk7u-dev/hotspot/make'
make[1]: *** [make/hotspot-rules.gmk:114: hotspot-build] Error 2
make[1]: Leaving directory '/home/sinowrt/Documents/jdk7u-dev'
make: *** [Makefile:251: build_product_image] Error 2
</code></pre>

<p>å‡ºç°è¿™äº›é”™è¯¯æ˜¯å› ä¸ºç¼–è¯‘çš„æ—¶å€™ï¼Œæ·»åŠ äº†-Werrorå‚æ•°ï¼Œåªè¦å°†-Werrorå‚æ•°å»æ‰å³å¯</p>

<pre><code class="language-shell">vi hotspot/make/linux/makefiles/gcc.make
#æ‰¾åˆ°WARNINGS_ARE_ERRORS = -Werroræ•´è¡Œæ³¨é‡Šæ‰
</code></pre>

<p><code>:wq</code>ä¿å­˜é€€å‡ºä¹‹åï¼Œ<code>make clean</code>å†é‡æ–°<code>make</code>å³å¯æˆåŠŸç¼–è¯‘ï¼Œæ•´ä¸ªç¼–è¯‘è¿‡ç¨‹æœ‰ç‚¹ä¹…ï¼Œè€å¿ƒç­‰å¾…å³å¯ã€‚<br />
ç¼–è¯‘æˆåŠŸä¼šå‡ºç°å¦‚ä¸‹æç¤ºï¼š</p>

<pre><code class="language-shell">########################################################################
##### Leaving jdk for target(s) sanity all docs images             #####
########################################################################
##### Build time 00:05:21 jdk for target(s) sanity all docs images #####
########################################################################

#-- Build times ----------
Target all_product_build
Start 2022-04-19 06:55:27
End   2022-04-19 07:05:10
00:00:59 corba
00:02:51 hotspot
00:00:08 jaxp
00:00:10 jaxws
00:05:21 jdk
00:00:14 langtools
00:09:43 TOTAL
-------------------------
</code></pre>

<h2 id="0x03-æ€»ç»“">0x03 æ€»ç»“</h2>

<p>Ubuntuç›¸å¯¹äºMacå’ŒWinå¹³å°ï¼Œç¼–è¯‘JDKæ›´å®¹æ˜“ï¼Œä¹‹å‰ä¹Ÿåœ¨MacOSä¸­å°è¯•è¿‡ç¼–è¯‘JDK7ï¼Œç”±äºCommand Line Toolsä¸æ–°ç‰ˆæœ¬macOSä¸å…¼å®¹è€Œä»¥å¤±è´¥å‘Šç»ˆï¼Œåœ¨Ubuntuä¸­è½¯ä»¶åŒ…çš„å®‰è£…æ›´å®½æ¾ï¼Œä½¿å¾—ç¼–è¯‘ç¯å¢ƒæ›´å®¹æ˜“é…ç½®ï¼Œå»ºè®®è€ç‰ˆæœ¬çš„JDKä¼˜å…ˆè€ƒè™‘ä½¿ç”¨Ubuntuè¿›è¡Œç¼–è¯‘ã€‚</p>

    </div>
	
    <div class="post-copyright">
             
			
            <p class="copyright-item">
                <span>Author:</span>
                <span>sinowrt </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=http://blog.sinowrt.cn/2022/2022-04-17t2030-how-to-compile-openjdk7-on-ubuntu20.04/>http://blog.sinowrt.cn/2022/2022-04-17t2030-how-to-compile-openjdk7-on-ubuntu20.04/</span>
            </p>
			
            
             
            <p class="copyright-item lincese">
                æœ¬æ–‡é‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯
            </p>
            
    </div>

  
    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s): 
            
            <span class="tag"><a href="http://blog.sinowrt.cn/tags/ubuntu/">
                    #ubuntu</a></span>
            
            <span class="tag"><a href="http://blog.sinowrt.cn/tags/openjdk/">
                    #openjdk</a></span>
            
            <span class="tag"><a href="http://blog.sinowrt.cn/tags/compile/">
                    #compile</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> Â· 
                <span><a href="http://blog.sinowrt.cn">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="http://blog.sinowrt.cn/2022/2022-04-17t2024-how-to-install-vmware-tools-on-ubuntu20.04/" class="prev" rel="prev" title="å¦‚ä½•åœ¨Ubuntu20.04ä¸­å®‰è£…VMware tools"><i class="iconfont icon-left"></i>&nbsp;å¦‚ä½•åœ¨Ubuntu20.04ä¸­å®‰è£…VMware tools</a>
         
        
        <a href="http://blog.sinowrt.cn/2022/2022-04-25t1936-raspberry-pi-how-to-enable-bluetooth-on-ubuntu-server-20.04/" class="next" rel="next" title="æ ‘è“æ´¾ ubuntu server 20.04å¯ç”¨è“ç‰™åŠŸèƒ½">æ ‘è“æ´¾ ubuntu server 20.04å¯ç”¨è“ç‰™åŠŸèƒ½&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
          
                 
          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2018 - 2023</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="http://blog.sinowrt.cn">sinowrt</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt | </a><script type="text/javascript" src="https://s4.cnzz.com/z_stat.php?id=1279436618&web_id=1279436618"></script></span> 
    </div>
</footer>












    
    
    <script src="/js/vendor_no_gallery.min.js" async=""></script>
    
  



     </div>
  </body>
</html>
